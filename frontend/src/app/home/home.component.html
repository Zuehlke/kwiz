<div class="home-container">
  <h2>Welcome to the Zuhlke Pub Quiz!</h2>
  <p>This is a simple quiz application built with Angular 19 and Spring Boot.</p>

  <div class="features">
    <div class="feature">
      <h3>Create Quizzes</h3>
      <p>Create your own quizzes with custom questions and answers.</p>
    </div>
    <div class="feature">
      <h3>Play Quizzes</h3>
      <p>Play quizzes created by you or other users.</p>
    </div>
    <div class="feature">
      <h3>Track Scores</h3>
      <p>Keep track of your scores and compare with others.</p>
    </div>
  </div>

  <div class="quiz-actions">
    <div class="create-quiz-section">
      <h3>Create a New Quiz</h3>
      <p>Start a new quiz as a quizmaster and invite participants to join.</p>
      <button class="btn btn-primary" (click)="toggleCreateQuizForm()">
        {{ showCreateQuizForm ? 'Cancel' : 'Create Quiz' }}
      </button>

      <div class="form-container" *ngIf="showCreateQuizForm">
        <form [formGroup]="createQuizForm" (ngSubmit)="onCreateQuiz()" class="create-quiz-form">
          <div class="form-group">
            <label for="quizName">Quiz Name</label>
            <input 
              type="text" 
              id="quizName" 
              formControlName="quizName" 
              class="form-control"
              placeholder="Enter quiz name"
            >
            <div class="error-message" *ngIf="createQuizForm.get('quizName')?.invalid && createQuizForm.get('quizName')?.touched">
              <span *ngIf="createQuizForm.get('quizName')?.errors?.['required']">Quiz name is required</span>
              <span *ngIf="createQuizForm.get('quizName')?.errors?.['minlength']">Quiz name must be at least 3 characters</span>
            </div>
          </div>

          <div class="form-group">
            <label for="maxParticipants">Maximum Participants</label>
            <input 
              type="number" 
              id="maxParticipants" 
              formControlName="maxParticipants" 
              class="form-control"
              min="1"
              max="20"
            >
            <div class="error-message" *ngIf="createQuizForm.get('maxParticipants')?.invalid && createQuizForm.get('maxParticipants')?.touched">
              <span *ngIf="createQuizForm.get('maxParticipants')?.errors?.['required']">Maximum participants is required</span>
              <span *ngIf="createQuizForm.get('maxParticipants')?.errors?.['min']">Minimum value is 1</span>
              <span *ngIf="createQuizForm.get('maxParticipants')?.errors?.['max']">Maximum value is 20</span>
            </div>
          </div>

          <button type="submit" class="btn btn-success" [disabled]="createQuizForm.invalid || isLoading">
            <span *ngIf="isLoading">Creating...</span>
            <span *ngIf="!isLoading">Create Quiz</span>
          </button>
        </form>
      </div>
    </div>

    <div class="join-quiz-section">
      <h3>Join an Existing Quiz</h3>
      <p>Join a quiz using the quiz ID provided by the quizmaster.</p>
      <button class="btn btn-primary" (click)="toggleJoinQuizForm()">
        {{ showJoinQuizForm ? 'Cancel' : 'Join Quiz' }}
      </button>

      <div class="form-container" *ngIf="showJoinQuizForm">
        <form [formGroup]="joinQuizForm" (ngSubmit)="onJoinQuiz()" class="join-quiz-form">
          <div class="form-group">
            <label for="quizId">Quiz ID</label>
            <input 
              type="text" 
              id="quizId" 
              formControlName="quizId" 
              class="form-control"
              placeholder="Enter quiz ID"
            >
            <div class="error-message" *ngIf="joinQuizForm.get('quizId')?.invalid && joinQuizForm.get('quizId')?.touched">
              <span *ngIf="joinQuizForm.get('quizId')?.errors?.['required']">Quiz ID is required</span>
            </div>
          </div>

          <div class="form-group">
            <label for="participantName">Your Name</label>
            <input 
              type="text" 
              id="participantName" 
              formControlName="participantName" 
              class="form-control"
              placeholder="Enter your name"
            >
            <div class="error-message" *ngIf="joinQuizForm.get('participantName')?.invalid && joinQuizForm.get('participantName')?.touched">
              <span *ngIf="joinQuizForm.get('participantName')?.errors?.['required']">Your name is required</span>
              <span *ngIf="joinQuizForm.get('participantName')?.errors?.['minlength']">Your name must be at least 2 characters</span>
            </div>
          </div>

          <button type="submit" class="btn btn-success" [disabled]="joinQuizForm.invalid || isLoading">
            <span *ngIf="isLoading">Joining...</span>
            <span *ngIf="!isLoading">Join Quiz</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <div class="error-container" *ngIf="errorMessage">
    <div class="alert alert-danger">{{ errorMessage }}</div>
  </div>
</div>
